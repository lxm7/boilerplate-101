(this["webpackJsonpboilerplate-101"]=this["webpackJsonpboilerplate-101"]||[]).push([[0],{172:function(e,t,n){e.exports=n(334)},181:function(e,t,n){},199:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){e.exports=n.p+"static/media/destinations.4430fc75.png"},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),o=n(15),l=n(108),u=n(93),s=n(157),m=(n(181),n(52)),d=n(140),p=n(24),f=n.n(p),h=n(35),b=n(26),v=n(10),g=n(74),E=n.n(g),O=function(e){return Object.entries(e).map((function(e){return{country:e[0],amount:e[1]}}))},y=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||"GBP",e.prev=1,e.next=4,E.a.get("https://api.exchangeratesapi.io/latest?base=".concat(n));case 4:return a=e.sent,r=a.data.rates,c=O(r),e.abrupt("return",Object(v.a)(Object(v.a)({},a.data),{},{rates:Object(b.a)(c)}));case 10:throw e.prev=10,e.t0=e.catch(1),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){return+(Math.round(e+"e+2")+"e-2")},k=function(e){return e.reduce((function(e,t){return e+Number(t.price)}),0)},C=function(e,t){return e.find((function(e){return e.country===t}))},w={basketList:[],allCurrencies:[],rate:{country:"GBP",amount:"1"},total:0},x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||m.c,_=Object(m.c)(Object(m.a)(d.a),x||function(e){return e}),S=Object(m.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_API_INIT":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"FETCH_API_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{allCurrencies:t.payload,loading:!1});case"FETCH_API_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1});case"ADD_ITEM":return Object(v.a)(Object(v.a)({},e),{},{basketList:[].concat(Object(b.a)(e.basketList),[Object(v.a)({},t.item)])});case"REMOVE_ITEM":return Object(v.a)(Object(v.a)({},e),{},{basketList:[].concat(Object(b.a)(e.basketList.slice(0,t.index)),Object(b.a)(e.basketList.slice(t.index+1)))});case"HANDLE_CHECKOUT":return Object(v.a)(Object(v.a)({},e),{},{total:j(k(e.basketList))});case"UPDATE_CURRENCY":return Object(v.a)(Object(v.a)({},e),{},{rate:Object(v.a)({},C(e.allCurrencies,t.event.target.value))});default:return e}}),_);S.dispatch(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_API_INIT"}),e.prev=1,e.next=4,y("GBP");case 4:n=e.sent,t({type:"FETCH_API_SUCCESS",payload:n.rates}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_API_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}());var I=S,N=n(53),T=n(396),F=n(393),L=n(54);function A(){var e=Object(N.a)(["\n.","-enter {\n  opacity: 0;\n  transform: translateX(","%);\n\n  /* add flag for styled components for overlapp? */\n  position: relative;\n  z-index: 1;\n}\n.","-enter-active {\n  opacity: 1;\n  transform: translateX(0%);\n}\n.","-exit {\n  opacity: 1;\n  transform: translateX(0%);\n\n  /* add flag for styled components for absolute overlapp? */\n  position: absolute;\n  top: 0;\n  z-index: 0;\n\n  /* keep page exactly the same whilst sliding out\n  with full width and offset nav width on desktop */\n  width: 100%;\n  left: 192px;\n}\n.","-exit-active {\n  opacity: 0;\n  transform: translateX(-","%);\n}\n.","-enter-active,\n.","-exit-active {\n  transition: all ","ms cubic-bezier(0.390, 0.575, 0.565, 1.000); /* easeOutSine */\n}\n"]);return A=function(){return e},e}var P=Object(L.a)(A(),"slide",10,"slide","slide","slide",10,"slide","slide",200),R=function(e){var t=e.pageKey,n=e.classNames,a=e.timeout,c=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(T.a,{childFactory:function(e){return r.a.cloneElement(e,{classNames:n,timeout:a})}},r.a.createElement(F.a,{key:t,addEndListener:function(){return null}},r.a.createElement("div",null,c))))};function D(){var e=Object(N.a)(["\n  flex: 1;\n"]);return D=function(){return e},e}function M(){var e=Object(N.a)(["\n  flex: 0 0 ","em;\n  /* Put on left side */\n  order: -1;\n\n  @media (min-width: 768px) {\n    /* props.size is the width of the side column */\n    flex: 0 0 ","em;\n  }\n"]);return M=function(){return e},e}function H(){var e=Object(N.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    flex: 1;\n  }\n"]);return H=function(){return e},e}function G(){var e=Object(N.a)(["\n  display: flex;\n  min-height: 100vh;\n  flex-direction: column;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    flex: 1;\n  }\n"]);return G=function(){return e},e}var z=L.b.div(G()),B=L.b.div(H()),U=Object(L.b)("div")(M(),(function(e){return e.size||16}),(function(e){return e.size||16})),V=L.b.div(D()),X=function(e){var t=e.size,n=e.children;return r.a.createElement(U,{size:t},n)},W=function(e){var t=e.children;return r.a.createElement(V,null,t)},K=r.a.memo((function(e){var t=e.children;return r.a.createElement(z,null,r.a.createElement(B,null,t))})),J=n(19),Y=n(58),Q=n(59),$=n(66),q=n(64),Z=n(398),ee=n(399),te=n(394),ne=n(386),ae=n(375),re=(n(199),n(370)),ce=n(402),ie=n(404),oe=n(403),le=n(372),ue=n(373),se=n(390),me=Object(re.a)((function(e){return Object(ce.a)({formControl:{margin:e.spacing(1)}})})),de=function(e){var t=e.filters,n=e.handleOnChangeFilter,a=me();return r.a.createElement(oe.a,{component:"fieldset",className:a.formControl},r.a.createElement(ie.a,{component:"legend"},"Pick a category"),r.a.createElement(le.a,null,t.map((function(e){return r.a.createElement(ue.a,{key:e.id,control:r.a.createElement(se.a,{name:e.name,onChange:n,checked:e.isChecked||!1}),label:e.name})}))))},pe=n(144),fe=n.n(pe),he=n(145),be=n.n(he),ve=(n(229),function(e){var t=e.movie,n=Object(a.useMemo)((function(){return t.genre_ids.join("/")}),[t.genre_ids]);return r.a.createElement("div",{className:"listing__content"},r.a.createElement("h2",{className:"h2"},t.title),r.a.createElement("p",null,"Movie Genres: ".concat(n)),r.a.createElement(fe.a,{src:"".concat("https://image.tmdb.org/t/p/w500").concat(t.poster_path),loader:r.a.createElement("div",{style:{width:"100%",minHeight:"190px",background:"#ddd",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(be.a,{type:"TailSpin",color:"gray",height:40,width:40})),unloader:r.a.createElement("div",{style:{width:"100%",minHeight:"150px",background:"#ccc",display:"flex",alignItems:"center",justifyContent:"center"}})}))}),ge=n(395),Ee=n(397),Oe=n(146),ye=n(156),je=n(374),ke=function(e){return e.isChecked},Ce=function(e){return te.a(ke,e)},we=function(e){return ge.a(Ee.a("id"),e)},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Oe.a((function(e,t){return ye.a([].concat(Object(b.a)(e),Object(b.a)(t.genre_ids)))}),[],e)},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return je.a((function(e,t){return e.id===t}),e,t)},Se=function(e){return e.then((function(e){return[e,void 0]})).catch((function(e){return Promise.resolve([void 0,e])}))},Ie=function(e){Object($.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(Y.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={genres:[],nowPlaying:[],availableGenreNames:[],updatedList:[]},e.fetchFilters=function(){var t=xe(e.state.nowPlaying),n=_e(e.state.genres,t);e.setState({availableGenreNames:n})},e.handleOnChangeFilter=function(t){var n=t.target.name,a=t.target.checked;e.setState((function(e){return{availableGenreNames:Object(b.a)(e.availableGenreNames.map((function(e){return e.name===n?Object(v.a)(Object(v.a)({},e),{},{isChecked:a}):e})))}}),(function(){return e.updatePlayingList()}))},e.updatePlayingList=function(){var t=Ce(e.state.availableGenreNames),n=we(t),a=te.a((function(e){return Z.a(ee.a(n,e.genre_ids))>0}),e.state.nowPlaying);e.setState({updatedList:a})},e.fetchList=function(){return 0===e.state.updatedList.length?e.state.nowPlaying:e.state.updatedList},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:this.fetchFilters();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,a,r,c,i,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(E.a.get("".concat("https://api.themoviedb.org/3","/genre/movie/list?api_key=").concat("39519945102ffc54f50b428dc72696b3")));case 2:return t=e.sent,n=Object(J.a)(t,2),a=n[0],r=n[1],e.next=8,Se(E.a.get("".concat("https://api.themoviedb.org/3","/movie/now_playing?api_key=").concat("39519945102ffc54f50b428dc72696b3")));case 8:if(c=e.sent,i=Object(J.a)(c,2),o=i[0],l=i[1],!r){e.next=14;break}throw new Error("Could not fetch genres");case 14:if(!l){e.next=16;break}throw new Error("Could not fetch playing list");case 16:this.setState({genres:a.data.genres,nowPlaying:o.data.results});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.nowPlaying&&0!==this.state.nowPlaying.length?r.a.createElement("div",{className:"App"},r.a.createElement(K,null,r.a.createElement(X,{size:12},r.a.createElement("form",null,0===this.state.availableGenreNames.length&&r.a.createElement("div",null,"Please set up an API key"," ",r.a.createElement("a",{href:"https://www.themoviedb.org/settings/api"},"here")," and add to a .env file, as per .env.example."),r.a.createElement(de,{filters:this.state.availableGenreNames,handleOnChangeFilter:this.handleOnChangeFilter}))),r.a.createElement(W,null,r.a.createElement(ae.a,{container:!0,spacing:3,style:{margin:0,width:"100%"}},this.fetchList().sort((function(e,t){return t.popularity-e.popularity})).map((function(e){return r.a.createElement(ae.a,{key:e.id,item:!0,sm:6,md:4,lg:3},r.a.createElement(ne.a,null,r.a.createElement(ve,{movie:e})))})))))):null}}]),n}(a.Component),Ne=n(43),Te=n(51),Fe=r.a.memo((function(e){var t=e.stops,n=e.distance;return r.a.createElement("div",{className:"route"},t.map((function(e,t){return r.a.createElement("span",{style:{marginRight:"0.5em"},key:t},r.a.createElement("span",null,e))})),r.a.createElement("span",{className:"route__distance"},"Distance: ",n," "))})),Le=n(376),Ae=n(400),Pe=n(388),Re=n(401),De=function(e,t){return e.map((function(e){return t.push(e)}))},Me=function(e,t,n){return e.concat([t],[n])},He=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0;if(a=Me(a,t,r),t===n)return[a];if(!Object.prototype.hasOwnProperty.call(e,t))return['The start route string "'.concat(t,'" does not exist in route table')];if(!Object.prototype.hasOwnProperty.call(e,n))return['The end route string "'.concat(n,'" does not exist in route table')];var c=[];return e[t].map((function(t){var r=t.node;if(a.includes(r))return[];var i=He(e,r,n,a,t.weight);return De(i,c)})),c},Ge=function(e,t,n){return Le.a([t,e],Object(v.a)({},n))},ze=function(e,t){return Ge(e,"start",t)||Ge(e,"end",t)},Be=function(e){return Ae.a(e)},Ue=function(e){return Te.a(e)[0]},Ve=function(e){return e.reduce((function(e,t){var n=Re.a(t.filter((function(e){return!isNaN(e)}))),a=t.filter((function(e){return e&&isNaN(e)})).concat(n);return[].concat(Object(b.a)(e),[a])}),[])},Xe=function(e){var t=e.routes;return r.a.createElement("div",null,r.a.createElement("h3",null,"Possible routes:"),r.a.createElement("div",{className:"route__list"},t.sort((function(e,t){return Be(e)-Be(t)})).map((function(e,t){return r.a.createElement(Fe,{key:t,stops:(n=e,Pe.a(1,n)),distance:Be(e)});var n}))))},We={A:[{node:"C",weight:2}],B:[{node:"D",weight:4},{node:"E",weight:7}],C:[{node:"A",weight:2},{node:"D",weight:1},{node:"F",weight:4}],D:[{node:"C",weight:1},{node:"B",weight:4},{node:"F",weight:1},{node:"G",weight:2}],E:[{node:"B",weight:7},{node:"H",weight:10}],F:[{node:"C",weight:4},{node:"D",weight:1},{node:"G",weight:3}],G:[{node:"D",weight:2},{node:"F",weight:3},{node:"H",weight:4}],H:[{node:"G",weight:4},{node:"E",weight:10}]},Ke={background:"#eee",width:"100px",textAlign:"center",color:"white",position:"absolute",bottom:"49px",left:"100%",padding:".5em"},Je={background:"#ff5a5f",display:"block",borderRadius:"3px",padding:".5em",marginBottom:"0.3em"},Ye=function(e){var t=e.onClickRouteEnd,n=e.stop;return r.a.createElement("div",{style:Ke},["start","end"].map((function(e){return r.a.createElement("span",{style:Je,key:e,onClick:function(a){return t(a,n,e)}},e)})))},Qe=n(147),$e=n.n(Qe),qe=function(e){var t=e.fastest,n=e.node,c=e.edge,i=Object(a.useState)(!1),o=Object(J.a)(i,2),l=o[0],u=o[1];Object(a.useEffect)((function(){return setTimeout((function(){return u(!0)}),250),function(){return u(!1)}}),[]);var s=function(e,t,n){return ee.a(e,[t,n.node])}(t,n,c);return l&&0!==s.length&&0!==t.length?r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",null,r.a.createElement($e.a,{className:"route__edge",from:"route__option--".concat(s&&s[0]),to:"route__option--".concat(s&&s[1]),borderColor:"#9EFFE4"}))):null},Ze=(n(237),function(e){return e?"route__option--active":""}),et=function(e){var t=e.active,n=e.fastest,a=e.toolTip,c=e.toggleToolTip,i=e.onClickRouteEnd,o=e.node;return r.a.createElement("div",{key:o,style:{position:"relative"}},r.a.createElement("div",{className:"route__option route__option--".concat(o," ").concat(Ze(ze(o,t))),onClick:function(e){return c(e,o)}},o,a&&a[o]&&r.a.createElement(Ye,{onClickRouteEnd:i,stop:o})),We[o].map((function(e,t){return r.a.createElement(qe,{key:t,fastest:n,node:o,edge:e})})))},tt=n(238),nt=function(e){Object($.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(Y.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={routes:[],fastest:[],active:{start:{A:!0},end:{E:!0}},toolTip:{A:!1}},e.onClickRouteEnd=function(t,n,a){t.persist(),e.setState((function(e){return{active:Object(v.a)(Object(v.a)({},e.active),{},Object(Ne.a)({},a,Object(Ne.a)({},n,!0)))}}),(function(){return e.updateRoutes()}))},e.updateRoutes=function(){var t=e.state.active,n=t.start,a=t.end,r=He(We,Ue(n),Ue(a));e.setState({routes:Ve(r)},(function(){return e.getFastestRoute()}))},e.getFastestRoute=function(){return e.setState((function(e){return{fastest:e.routes[0]}}))},e.toggleToolTip=function(t,n){t.preventDefault(),e.setState({toolTip:Object(Ne.a)({},n,!Ee.a(n,e.state.toolTip))})},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){this.updateRoutes()}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,a=t.fastest,c=t.toolTip,i=t.routes;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{height:"150px",marginBottom:"5em"}},r.a.createElement("h3",null,"Find the shortest distance between any direction, any stop using any combination possible"),r.a.createElement("img",{src:tt,style:{width:"100%",maxWidth:"450px"},alt:"table of destinations and distances"})),r.a.createElement(Xe,{routes:i}),r.a.createElement("div",{className:"route__graph"},r.a.createElement("h3",null,"Start ",Ue(n.start)," - End"," ",Ue(n.end)),r.a.createElement("h3",null,"Shortest distance: ",Be(a)),Te.a(We).map((function(t){return r.a.createElement(et,{key:t,node:t,active:n,fastest:a,toggleToolTip:e.toggleToolTip,onClickRouteEnd:e.onClickRouteEnd,toolTip:c})}))))}}]),n}(a.Component),at=(n(239),function(e){var t=e.item,n=e.addItemOnClick,a=e.removeItemOnClick,c=e.index;return r.a.createElement("li",{className:"shopping-list__item",onClick:function(){return c>-1?a(c=0):n(t)}},t.name,r.a.createElement("span",null,t.price))}),rt=(n(240),r.a.memo((function(e){var t=e.foodItems,n=e.addItemOnClick;return r.a.createElement("ul",{className:"shopping-list"},r.a.createElement("h3",null,"Items"),t.map((function(e){return r.a.createElement(at,{key:e.id,item:e,addItemOnClick:n,removeItemOnClick:function(){return"noop"},index:-1})})))}))),ct=r.a.memo((function(e){var t=e.basketList,n=e.removeItemOnClick;return r.a.createElement("div",{className:"basket"},r.a.createElement("h3",null,"Shopping Cart"),t.map((function(e,t){return r.a.createElement(at,{key:t,index:t,item:e,removeItemOnClick:n,addItemOnClick:function(){return"noop"}})})))})),it=function(e){var t=e.value,n=e.options,a=e.handleOnChange;return r.a.createElement("select",{onChange:function(e){return a(e)}},r.a.createElement("option",{value:t},t),n.map((function(e,t){return r.a.createElement("option",{key:t,value:e.country},e.country)})))},ot=(n(241),function(e){var t=e.totalIncRate,n=e.base,a=e.allCurrencies,c=e.updateCurrency;return r.a.createElement("div",{className:"total"},r.a.createElement("div",{className:"segment"},r.a.createElement("h3",null,r.a.createElement(it,{value:n,options:a,handleOnChange:c}),t," ",n)))}),lt=[{id:1,name:"Peas",price:"0.95"},{id:2,name:"Eggs",price:"2.10"},{id:3,name:"Milk",price:"1.30"},{id:4,name:"Beans",price:"0.73"}],ut=Object(u.b)((function(e){return{total:e.total,rate:e.rate,basketList:e.basketList,allCurrencies:e.allCurrencies}}),(function(e){return{addItemOnClickFn:function(t){return e(function(e){return{type:"ADD_ITEM",item:e}}(t))},removeItemOnClickFn:function(t){return e(function(e){return{type:"REMOVE_ITEM",index:e}}(t))},handleCheckoutFn:function(){return e({type:"HANDLE_CHECKOUT"})},updateCurrencyFn:function(t){return e(function(e){return{type:"UPDATE_CURRENCY",event:e}}(t))}}}))((function(e){var t=e.basketList,n=e.rate,c=e.total,i=e.allCurrencies,o=e.addItemOnClickFn,l=e.removeItemOnClickFn,u=e.handleCheckoutFn,s=e.updateCurrencyFn;return Object(a.useEffect)((function(){u()}),[t,u]),r.a.createElement("div",{className:"App"},r.a.createElement(rt,{foodItems:lt,addItemOnClick:o}),r.a.createElement(ct,{basketList:t,removeItemOnClick:l}),r.a.createElement(ot,{base:n.country,totalIncRate:j(c*n.amount),allCurrencies:i,updateCurrency:s}))})),st=n(96),mt=n(155),dt=n(377),pt=n(387);function ft(e,t){var n=e.features,a=Object(pt.a)().domain(n.map(t)).range(Object(dt.a)(9));return{type:"FeatureCollection",features:n.map((function(e){var n=t(e),r=Object(v.a)(Object(v.a)({},e.properties),{},{value:n,percentile:a(n)});return Object(v.a)(Object(v.a)({},e),{},{properties:r})}))}}var ht={id:"data",type:"fill",paint:{"fill-color":{property:"percentile",stops:[[0,"#3288bd"],[1,"#66c2a5"],[2,"#abdda4"],[3,"#e6f598"],[4,"#ffffbf"],[5,"#fee08b"],[6,"#fdae61"],[7,"#f46d43"],[8,"#d53e4f"]]},"fill-opacity":.8}},bt=function(e){Object($.a)(n,e);var t=Object(q.a)(n);function n(){var e;Object(Y.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={year:2015,data:null,hoveredFeature:null,viewport:{latitude:40,longitude:-100,zoom:2,bearing:0,pitch:0}},e._loadData=function(t){e.setState({data:ft(t,(function(t){return t.properties.income[e.state.year]}))})},e._updateSettings=function(t,n){if("year"===t){e.setState({year:n});var a=e.state.data;a&&e.setState({data:ft(a,(function(e){return e.properties.income[n]}))})}},e._onViewportChange=function(t){return e.setState({viewport:t})},e._onHover=function(t){var n=t.features,a=t.srcEvent,r=a.offsetX,c=a.offsetY,i=n&&n.find((function(e){return"data"===e.layer.id}));e.setState({hoveredFeature:i,x:r,y:c})},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(mt.a)("https://raw.githubusercontent.com/uber/react-map-gl/master/examples/.data/us-income.geojson",(function(t,n){t||e._loadData(n)}))}},{key:"_renderTooltip",value:function(){var e=this.state,t=e.hoveredFeature,n=e.x,a=e.y;return t&&r.a.createElement("div",{className:"tooltip",style:{left:n,top:a}},r.a.createElement("div",null,"State: ",t.properties.name),r.a.createElement("div",null,"Median Household Income: ",t.properties.value),r.a.createElement("div",null,"Percentile: ",t.properties.percentile/8*100))}},{key:"render",value:function(){var e=this.state,t=e.viewport,n=e.data;return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("div",{style:{height:"auto",right:0,position:"absolute",zIndex:99,textAlign:"center",width:"50%",padding:"1rem",background:"white"}},"Copied from https://uber.github.io/react-map-gl/examples/geojson. TODO - expand and use own sourced data for example, uk crime, uk flood, cornovirus, etc."),r.a.createElement("div",{style:{height:"100%",position:"relative"}},r.a.createElement(st.c,Object.assign({},t,{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/light-v9",onViewportChange:this._onViewportChange,mapboxApiAccessToken:"pk.eyJ1IjoibHhtcnRuNyIsImEiOiJjazcyM2RvNzEwY21uM2Vtb2o4cWxoaWRiIn0.PIkKBr_g2uCcKcM7pLY2aQ",onHover:this._onHover}),r.a.createElement(st.b,{type:"geojson",data:n},r.a.createElement(st.a,ht)),this._renderTooltip())))}}]),n}(a.Component),vt=n(158),gt=n(149),Et=n.n(gt),Ot=function(){var e=function(){var e=Object(a.useState)({}),t=Object(J.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(J.a)(c,2),o=i[0],l=i[1],u=function(e){var t=e.coords;r({latitude:t.latitude,longitude:t.longitude})},s=function(e){l(e.message)};return Object(a.useEffect)((function(){var e=navigator.geolocation;if(e){var t;return t=e.watchPosition(u,s),function(){return e.clearWatch(t)}}l("Geolocation is not supported")}),[]),Object(v.a)(Object(v.a)({},n),{},{error:o,onError:s,onChange:u})}(),t=e.error,n=Object(vt.a)(e,["error"]),c=n.latitude,i=n.longitude,o=function(e,t){return Et.a.getTimes(new Date,e,t)}(c,i),l=o.sunrise,u=o.sunset;return r.a.createElement("div",{style:{padding:"2em"}},t&&r.a.createElement("p",null,"Please allow browser to find your geoLocation"),c||i?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"User Location: ".concat(c.toFixed(4),",\n          ").concat(i.toFixed(4))),r.a.createElement("p",null,"Sunrise: ".concat(l)),r.a.createElement("p",null,"SunSet: ".concat(u))):r.a.createElement("p",null,"Loading..."))},yt=function(e){var t=e.name,n=e.type,a=e.value,c=e.onChange,i=e.validation;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:t},t),r.a.createElement("input",{type:n,name:t,id:t,value:a,onChange:c}),i&&i)},jt=function(e){var t=e.message;return r.a.createElement("span",null,t||"")},kt=n(106),Ct=n.n(kt),wt={values:{name:"",email:"",message:"",newsletter:!1},errors:{},meta:{isSubmitting:!1,submitMessage:""}},xt="Please fill all text field",_t="Invalid email address",St="name",It="email",Nt="message",Tt="newsletter",Ft=function(e){return e===Tt},Lt=function(e){switch(e.name){case St:case Nt:return Ct.a.isEmpty(e.value)?xt:"";case It:return Ct.a.isEmail(e.value)?"":_t;default:return""}},At=function(e){return t=e.values,Object.values(t).every((function(e){return""!==e}))&&function(e){return Object.values(e).every((function(e){return""===e}))}(e.errors)?[]:[e.errors];var t},Pt=function(e,t){var n=Object(a.useState)(wt),r=Object(J.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)([]),l=Object(J.a)(o,2),u=l[0],s=l[1];Object(a.useEffect)((function(){0===Object.keys(u).length&&c.meta.isSubmitting&&(i((function(e){return Object(v.a)(Object(v.a)({},e),{},{meta:Object(v.a)(Object(v.a)({},e.meta),{},{submitMessage:"Sending..."})})})),t(c.values))}),[u]);return{state:c,handleSubmit:function(t){t&&t.preventDefault(),s(e(c)),i((function(e){return Object(v.a)(Object(v.a)({},e),{},{meta:Object(v.a)(Object(v.a)({},e.meta),{},{isSubmitting:!0})})}))},handleOnChange:function(e){e.persist();var t=e.target;i((function(e){return Object(v.a)(Object(v.a)({},e),{},{values:Object(v.a)(Object(v.a)({},e.values),{},Object(Ne.a)({},t.name,(n=t,"checkbox"===n.type?n.checked:n.value))),errors:Object(v.a)(Object(v.a)({},e.errors),{},Object(Ne.a)({},t.name,Lt(t)))});var n}))}}},Rt=function(){var e=Pt(At,function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/contact-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:t})});case 2:console.info("no errors, user details posting...");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t=e.state,n=e.handleOnChange,a=e.handleSubmit;return r.a.createElement("div",{className:"App"},r.a.createElement("form",{onSubmit:a},r.a.createElement("p",null,r.a.createElement("strong",null,"Tasty Treats Customer form:")),Object.keys(t.values).map((function(e){return r.a.createElement(yt,{key:e,name:e,type:Ft(e)?"checkbox":"text",value:t.values[e],onChange:n,validation:!Ft(e)&&r.a.createElement(jt,{message:t.errors[e]||""})})})),r.a.createElement("p",null,t.meta.submitMessage),r.a.createElement("button",{type:"submit"},"Submit")),r.a.createElement("a",{style:{display:"block",marginTop:"2em"},href:"/boilerplate-101/userList.txt"},"Go to Saved User List file"))},Dt=n(150),Mt=n.n(Dt),Ht=n(389),Gt=n(385),zt=n(107),Bt=n.n(zt),Ut=n(152),Vt=n.n(Ut),Xt=n(92),Wt=n.n(Xt),Kt=n(153),Jt=n.n(Kt),Yt=n(154),Qt=n.n(Yt),$t=n(391);function qt(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Zt=Object(re.a)((function(e){return{paper:{position:"absolute",width:250,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},beerImg:{maxHeight:"120px"}}})),en=function(e){var t=e.beer,n=e.open,c=e.handleClose,i=e.addToCart,o=Zt(),l=Object(a.useState)(qt),u=Object(J.a)(l,1)[0];return t?r.a.createElement($t.a,{open:n,onClose:c,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("div",{style:u,className:o.paper},r.a.createElement("h2",{id:"simple-modal-title"},t.name),r.a.createElement("p",{id:"simple-modal-description"},r.a.createElement("img",{className:o.beerImg,src:t.image_url,alt:t.description}),t.tagline,t.abv,t.description,t.food_pairing),r.a.createElement("button",{type:"button",onClick:function(e){return i(e,t)}},"Add to Cart"))):null},tn=n(392),nn=n(378),an=n(379),rn=n(383),cn=n(380),on=n(382),ln=n(381),un=n(405),sn=n(151),mn=n.n(sn),dn=Object(re.a)({shoppingTab:{position:"fixed",bottom:0,width:"100%",textAlign:"center",background:"grey"}}),pn=function(e){var t=e.items,n=e.removeFromCart,c=dn(),i=Object(a.useState)(!1),o=Object(J.a)(i,2),l=o[0],u=o[1],s=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&u(e)}};return r.a.createElement("div",null,r.a.createElement(nn.a,{className:c.shoppingTab,onClick:s(!0)},"Shopping Cart"),r.a.createElement(tn.a,{anchor:"bottom",open:l,onClose:s(!1)},r.a.createElement(an.a,null,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(cn.a,null,r.a.createElement(ln.a,null,r.a.createElement(un.a,{alt:e.name,src:e.image_url})),r.a.createElement(on.a,{primary:e.name}),r.a.createElement(mn.a,{onClick:function(t){return n(t,e.id)}})),r.a.createElement(rn.a,{variant:"inset",component:"li"}))})))))},fn=n(384),hn=Object(re.a)((function(e){return{root:{flexGrow:1},loader:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},item:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,borderRadius:"4px",border:"1px solid lightgray"},imgWrapper:{height:"120px",display:"flex",alignItems:"center",justifyContent:"center"},img:{maxHeight:"100%"}}})),bn=function(e){var t=e.beerList,n=(e.index,e.handleOpen),a=e.isLoading,c=hn();return a?r.a.createElement("div",{className:c.loader},r.a.createElement(fn.a,null)):r.a.createElement(ae.a,{container:!0,spacing:1,style:{margin:0,width:"100%"}},t.map((function(e){return r.a.createElement(ae.a,{key:e.id,item:!0,xs:4},r.a.createElement(ne.a,{className:c.item,onClick:function(t){return n(t,e)}},r.a.createElement("div",{className:c.imgWrapper},e.image_url?r.a.createElement("img",{className:c.img,src:e.image_url,alt:e.name}):r.a.createElement(Wt.a,{fontSize:"large"})),r.a.createElement("div",null,e.name),r.a.createElement("div",null,"ABV: ",e.abv,"%")))})))},vn={0:"All",1:"Pizza",2:"Steak"},gn=function(e){return vn[e]},En=function(e){return Object.keys(e)},On=function(){var e=Object(a.useState)(!1),t=Object(J.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(1),o=Object(J.a)(i,2),l=o[0],u=o[1],s=Object(a.useRef)(null),m=Object(a.useState)([]),d=Object(J.a)(m,2),p=d[0],g=d[1],E=Object(a.useState)("All"),O=Object(J.a)(E,2),y=O[0],j=O[1],k=Object(a.useState)(0),C=Object(J.a)(k,2),w=C[0],x=C[1],_=Object(a.useState)(0),S=Object(J.a)(_,2),I=S[0],N=S[1],T=Object(a.useState)({open:!1}),F=Object(J.a)(T,2),L=F[0],A=F[1],P=function(e,t){return A(Object(v.a)(Object(v.a)({},t),{},{open:!0}))},R=function(e){return A(Object(v.a)(Object(v.a)({},e),{},{open:!1}))},D=Object(a.useState)([]),M=Object(J.a)(D,2),H=M[0],G=M[1];return Object(a.useEffect)((function(){j(gn(w)),u(1)}),[w]),Object(a.useEffect)((function(){(function(){var e=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,Mt()(200);case 4:return e.next=6,fetch("https://api.punkapi.com/v2/beers?page=".concat(l,"&per_page=").concat(9).concat(y&&"&food=".concat(y.toLowerCase())));case 6:return t=e.sent,e.next=9,t.json();case 9:n=e.sent,g(n),c(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Error fetching API",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[y,l]),r.a.createElement("div",null,r.a.createElement(Ht.a,{value:I,fullwidth:"true",onChange:function(e,t){return N(t)},centered:!0},r.a.createElement(Gt.a,{icon:r.a.createElement(Wt.a,null),"aria-label":"drink"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Vt.a,null),"aria-label":"food"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Jt.a,null),"aria-label":"settings"}),r.a.createElement(Gt.a,{icon:r.a.createElement(Qt.a,null),"aria-label":"search"})),r.a.createElement(Bt.a,{index:I,onChangeIndex:function(e){return N(e)}},r.a.createElement("div",{style:{height:"700px"},ref:s},r.a.createElement(Ht.a,{value:w,fullwidth:"true",onChange:function(e,t){return x(t)},centered:!0},En(vn).map((function(e){return r.a.createElement(Gt.a,{key:e,label:gn(e)})}))),r.a.createElement(Bt.a,{index:w,onChangeIndex:function(e){return x(e)}},En(vn).map((function(e){return r.a.createElement(bn,{key:e,index:e,isLoading:n,beerList:p,handleOpen:P})})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht.a,{value:0,fullwidth:"true",onChange:function(){return null},centered:!0},r.a.createElement(Gt.a,{label:"All food"})),r.a.createElement("p",null,"Other stuff in here"))),r.a.createElement(en,{beer:L,open:L.open,handleClose:R,addToCart:function(e,t){G([].concat(Object(b.a)(H),[t])),R(t)}}),r.a.createElement(pn,{items:H||[],removeFromCart:function(e,t){var n=H.filter((function(e){return e.id!==t}));G(n)}}))},yn=function(){return r.a.createElement("div",{className:"index--centre"},"Blank page flex centred")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jn=["Index","Shopping List","Mobile Beer App","Shortest Route","Movie List","MapBox","Sunrise Sunset","Simple Express Form"],kn=function(e){return"Index"===e?"/":"/".concat(e.replace(/\s+/g,"-").toLowerCase())},Cn=function(){return r.a.createElement(u.a,{store:I},r.a.createElement(l.a,null,r.a.createElement(K,null,r.a.createElement(X,null,r.a.createElement("div",{className:"nav"},jn.map((function(e){return r.a.createElement(l.b,{key:"".concat(kn(e)),to:"".concat(kn(e))},e)})))),r.a.createElement(W,null,r.a.createElement(o.a,{render:function(e){var t=e.location;return r.a.createElement(R,{pageKey:Object(s.a)(),classNames:"slide",timeout:300},r.a.createElement(o.c,{location:t},r.a.createElement(o.a,{exact:!0,path:"/",component:yn}),r.a.createElement(o.a,{path:"/mobile-beer-app",component:On}),r.a.createElement(o.a,{path:"/shopping-list",component:ut}),r.a.createElement(o.a,{path:"/shortest-route",component:nt}),r.a.createElement(o.a,{path:"/movie-list",component:Ie}),r.a.createElement(o.a,{path:"/mapbox",component:bt}),r.a.createElement(o.a,{path:"/sunrise-sunset",component:Ot}),r.a.createElement(o.a,{path:"/simple-express-form",component:Rt})))}})))))};i.a.render(r.a.createElement(Cn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[172,1,2]]]);
//# sourceMappingURL=main.80969011.chunk.js.map